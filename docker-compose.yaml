version: "3.3"
services:
    subscriber:
        depends_on:
            - "redis"
        build: services/subscriber
        environment:
            - RECIPIENT_EMAIL=${RECIPIENT_EMAIL}
    publisher:
        depends_on:
            - "redis"
        build: services/publisher
    mailman:
        build: services/mailman
        environment:
            - MAILGUN_USERNAME=${MAILGUN_USERNAME}
            - MAILGUN_PASSWORD=${MAILGUN_PASSWORD}
            - SENDER_EMAIL=${SENDER_EMAIL}
    newsfeed:
        build: services/newsfeed
    redis:
        image: "redis:alpine"